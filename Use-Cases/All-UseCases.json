
[
{
  title: "Use Case: Employee Submits Vacation Request",
  description: "Core functionality for employees to request and adjust vacations before submission. Dedicated screen on web & mobile.",
  sections: {
    Summary: [
      ["ID", "UC-1"],
      ["Name", "Employee Submits Vacation Request"],
      ["Goal", "Allow an employee to submit a vacation request and route it to the manager for approval."],
      ["Actors", "Employee"]
    ],
    Triggers: [
      ["Trigger", "Employee initiates a new vacation request in the portal."]
    ],
    "Pre-Conditions": [
      "Employee is authenticated in the HR system.",
      "Employee has a non-zero leave balance."
    ],
    "Basic Flow (Main Success Scenario)": {
      headers: ["#", "User Action", "System Response"],
      rows: [
        ["1", "Employee navigates to \"Request Vacation\".", "System displays the vacation request form."],
        ["2", "Employee enters start date, end date, and reason.", "System auto-populates employee details, validates dates in real-time, and shows current leave balance."],
        ["3", "Employee clicks \"Submit\".", "System saves request and assigns a Request ID."]
      ]
    },
    "Business Validation Rules": {
      headers: ["Rule ID", "Description", "Condition", "Message ID"],
      rows: [
        ["BV-001", "End date must be strictly after start date.", "endDate > startDate", "MSG-101"],
        ["BV-002", "Requested days must not exceed available leave balance.", "daysRequested â‰¤ leaveBalance", "MSG-102"],
        ["BV-003", "Sick leave requires a medical certificate attachment.", "type == \"Sick\"", "MSG-103"]
      ]
    },
    "Non-Functional Constraints": {
      headers: ["Constraint ID", "Description", "Condition"],
      rows: [
        ["NFR-001", "Submission should complete quickly for good UX.", "submissionTime < 120s"]
      ]
    },
    "Exceptions (Error Conditions)": {
      headers: ["ID", "At Step", "Issue", "Resolution"],
      rows: [
        ["EX-1", "Step 2", "Insufficient leave balance.", "System blocks submission and displays an error."],
        ["EX-2", "Step 3", "HR database unavailable.", "System shows error and asks to retry later."]
      ]
    },
    "Alternate Flows (Optional Variations)": {
      headers: ["ID", "At/From Step", "Description", "Outcome / Resolution"],
      rows: [
        ["AF-1", "Step 2", "Employee selects dates overlapping an existing request.", "System warns and allows confirm-or-adjust."],
        ["AF-2", "Step 3", "Employee cancels before submission.", "System discards input and returns to dashboard."]
      ]
    },
    "Post-Conditions": [
      "Request stored with status \"Pending Approval\".",
      "Manager notified; can approve or reject.",
      "Employee can track status from dashboard."
    ],
    "Notes": [
      ["Note", "Medical certificate required for sick leave; quick submission ensures good user experience."]
    ]
  }
}
,
{
  title: "Use Case: Employee Submits Vacation Cancellation Request",
  description: "Core functionality for employees to cancel a previously submitted vacation request before its start date.",
  sections: {
    Summary: [
      ["ID", "UC-2"],
      ["Name", "Employee Submits Vacation Cancellation Request"],
      ["Goal", "Allow an employee to cancel a submitted vacation request before its start date."],
      ["Actors", "Employee"]
    ],
    Triggers: [
      ["Trigger", "Employee decides they no longer need a previously requested vacation."]
    ],
    "Pre-Conditions": [
      "Employee has an existing vacation request in pending or approved status.",
      "Vacation request has not yet started.",
      "Employee is a full-time Muslim Saudi employee (system scope).",
      "Employee is not a trainee (system scope).",
      "System is accessible via web or mobile app."
    ],
    "Basic Flow (Main Success Scenario)": {
      headers: ["#", "User Action", "System Response"],
      rows: [
        ["1", "Employee opens the Vacation Cancellation Request screen.", "System displays the cancellation request form."],
        ["2", "â€”", "System auto-populates employee details (Name, ID) as read-only."],
        ["3", "â€”", "System displays original request details (Type, Dates, Period, Notes, Attachments) in read-only mode."],
        ["4", "Employee optionally enters a cancellation reason.", "System accepts input."],
        ["5", "Employee reviews all details.", "System waits for confirmation."],
        ["6", "Employee clicks Submit Cancellation.", "System validates request and submits for approval with status 'Pending'."],
        ["7", "Employee clicks Cancel instead.", "System discards input and returns to dashboard."]
      ]
    },
    "Approval Flow (Manager / HR / General Manager)": {
      headers: ["#", "Reviewer Action", "System Response"],
      rows: [
        ["1", "Reviewer opens the Vacation Cancellation Request screen.", "System shows original request and cancellation details."],
        ["2", "Reviewer optionally enters notes.", "System accepts input."],
        ["3", "Reviewer clicks Approve or Reject.", "System updates status and records decision."]
      ]
    },
    "Business Validation Rules": {
      headers: ["Rule ID", "Description", "Condition", "Message ID"],
      rows: [
        ["BV-201", "Cancellation must occur before vacation start date.", "currentDate < vacationStartDate", "MSG-201"],
        ["BV-202", "Only requests in Pending or Approved status can be cancelled.", "status âˆˆ {Pending, Approved}", "MSG-202"],
        ["BV-203", "Cancellation request data must match original request.", "cancellationData == originalData", "MSG-203"]
      ]
    },
    "Exceptions (Error Conditions)": {
      headers: ["ID", "At Step", "Issue", "Resolution"],
      rows: [
        ["EX-1", "Step 6", "Cancellation attempted after start date.", "System blocks submission and shows error message MSG-204."],
        ["EX-2", "Step 6", "Request not in Pending or Approved status.", "System prevents cancellation and shows error message MSG-205."],
        ["EX-3", "Step 6", "Data inconsistency detected.", "System rejects cancellation and notifies HR."]
      ]
    },
    "Post-Conditions": [
      "Cancellation request stored with status Pending until reviewed.",
      "If approved: HR and Manager notified, vacation officially cancelled.",
      "If rejected: Employee notified, original vacation request remains active."
    ],
    "Notes": [
      ["Note", "Maintain link between original vacation requests and their cancellations for data integrity."]
    ]
  }
}
,
{
  title: "Use Case: My Vacation Requests",
  description: "Allows employees to view and manage their personal vacation requests, including cancellation when permitted.",
  sections: {
    Summary: [
      ["ID", "UC-3"],
      ["Name", "My Vacation Requests"],
      ["Goal", "Provide employees with a centralized screen to view, track, and manage their vacation requests."],
      ["Actors", "Employee"]
    ],
    Triggers: [
      ["Trigger", "Employee navigates to the 'My Vacation Requests' screen."]
    ],
    "Pre-Conditions": [
      "Employee has access to the vacation management system (web or mobile).",
      "Employee is a full-time Muslim Saudi employee (system scope).",
      "Employee is not a trainee (system scope)."
    ],
    "Basic Flow (Main Success Scenario)": {
      headers: ["#", "User Action", "System Response"],
      rows: [
        ["1", "Employee selects 'My Vacation Requests' from the dashboard.", "System displays a summary table of vacation requests."],
        ["2", "Employee views columns: Vacation Type, Start Date, End Date, Status, and Expand/Collapse control.", "System shows summarized requests in tabular format."],
        ["3", "Employee clicks the expand icon for a specific request.", "System expands and displays detailed request information."],
        ["4", "â€”", "System displays Vacation Request Details (Vacation Type, Dates, Period, Notes) as read-only."],
        ["5", "â€”", "System displays Review History table with Reviewer, Notes, Status, and Date."],
        ["6", "â€”", "System displays Attachments table with file numbers and file names."],
        ["7", "Employee views the Actions section with the Cancel button.", "System enables or disables the Cancel button depending on rules."]
      ]
    },
    "Business Validation Rules": {
      headers: ["Rule ID", "Description", "Condition", "Message ID"],
      rows: [
        ["BV-301", "Cancel button disabled for approved requests.", "status == Approved", "MSG-301"],
        ["BV-302", "Cancel button disabled for already cancelled requests.", "status == Cancelled", "MSG-302"],
        ["BV-303", "Cancel button disabled for requests with passed start dates.", "currentDate >= startDate", "MSG-303"],
        ["BV-304", "All request details displayed in detailed view are read-only.", "fieldEditable == false", "MSG-304"]
      ]
    },
    "Exceptions (Error Conditions)": {
      headers: ["ID", "At Step", "Issue", "Resolution"],
      rows: [
        ["EX-1", "Step 3", "Employee attempts to expand request but data is unavailable.", "System shows error message MSG-304."],
        ["EX-2", "Step 7", "Employee clicks Cancel on a disabled button.", "System ignores action and provides tooltip explaining why."],
        ["EX-3", "Step 7", "System fails to load attachments.", "System shows warning 'Attachments unavailable' but continues displaying other details."]
      ]
    },
    "Post-Conditions": [
      "Employee has visibility into all their vacation requests in summary and detailed view.",
      "Employee can only cancel requests when rules allow.",
      "System maintains audit trail of all actions and reviews."
    ],
    "Notes": [
      ["Note", "Interactive features include expandable/collapsible details and conditional cancel button enablement."],
      ["Note", "Maintain strict data integrity by keeping all detailed fields read-only."]
    ]
  }
}
,
{
  title: "Use Case: Review Vacation Request (Approval / Rejection)",
  description: "Managers, HR, and the General Manager review submitted vacation requests and decide to approve or reject them, providing reasons for their decisions.",
  sections: {
    Summary: [
      ["ID", "UC-4"],
      ["Name", "Review Vacation Request (Approval / Rejection)"],
      ["Goal", "Enable managers, HR, and the General Manager to review, approve, or reject employee vacation requests."],
      ["Actors", "Direct Manager, HR, General Manager"]
    ],
    Triggers: [
      ["Trigger", "A vacation request is submitted by an employee and routed for review."]
    ],
    "Pre-Conditions": [
      "Employee has submitted a valid vacation request.",
      "System has routed the request to the current reviewer (Manager, HR, or General Manager).",
      "Reviewer has access to the vacation management system (web or mobile)."
    ],
    "Basic Flow (Main Success Scenario)": {
      headers: ["#", "Reviewer Action", "System Response"],
      rows: [
        ["1", "Reviewer opens the vacation request from their dashboard or notification link.", "System displays request details in read-only mode."],
        ["2", "â€”", "System shows Employee Name, Employee ID, Department, Vacation Type, Start Date, End Date, Period, Notes, and Attachments (if any)."],
        ["3", "Reviewer enters a mandatory reason in the 'Reason for Accept/Reject' textarea.", "System validates that input is provided."],
        ["4", "Reviewer clicks 'Approve'.", "System records approval, updates status, and routes to the next level (HR or General Manager)."],
        ["5", "Reviewer clicks 'Reject'.", "System records rejection, updates status to 'Rejected', and notifies the employee immediately."],
        ["6", "General Manager approves final request.", "System finalizes approval and updates the employeeâ€™s vacation balance."]
      ]
    },
    "Business Validation Rules": {
      headers: ["Rule ID", "Description", "Condition", "Message ID"],
      rows: [
        ["BV-401", "Reason for decision is mandatory for all reviewers.", "reason != null && reason.trim() != ''", "MSG-401"],
        ["BV-402", "Attachments are mandatory for sick leave requests.", "vacationType == 'Sick' â†’ attachments.length > 0", "MSG-402"],
        ["BV-403", "Vacation balance is updated only after General Manager approval.", "approver == GeneralManager && decision == 'Approve'", "MSG-403"],
        ["BV-404", "System auto-escalates pending requests after 2 days.", "approvalPending > 2 days", "MSG-404"]
      ]
    },
    "Exceptions (Error Conditions)": {
      headers: ["ID", "At Step", "Issue", "Resolution"],
      rows: [
        ["EX-1", "Step 3", "Reviewer tries to approve/reject without entering a reason.", "System blocks action and displays error message MSG-401."],
        ["EX-2", "Step 2", "Sick leave request submitted without attachments.", "System blocks progression and prompts employee to upload mandatory attachments."],
        ["EX-3", "Step 4", "Approval delayed more than 2 days.", "System auto-escalates to the next reviewer and sends notification."]
      ]
    },
    "Post-Conditions": [
      "Request status updated (Approved, Rejected, or Escalated).",
      "Employee notified of decision outcome.",
      "Vacation balance updated upon final approval by the General Manager.",
      "System logs reviewer decision, reason, and timestamp for audit purposes."
    ],
    "Notes": [
      ["Note", "System supports review and decision on both web and mobile platforms."],
      ["Note", "Notifications contain only the header with a link to the system for full details."],
      ["Note", "All request details are displayed in read-only mode to reviewers."],
      ["Note", "Maintain audit trail of all review actions including reasons and timestamps."]
    ]
  }
}
,
{
  title: "Use Case: Review Vacation Cancellation Request",
  description: "Managers and HR review pending vacation cancellation requests, viewing original request details and deciding to approve or reject the cancellation.",
  sections: {
    Summary: [
      ["ID", "UC-5"],
      ["Name", "Review Vacation Cancellation Request"],
      ["Goal", "Enable HR and Managers to review and take action (approve or reject) on submitted vacation cancellation requests."],
      ["Actors", "Manager, HR"]
    ],
    Triggers: [
      ["Trigger", "An employee submits a vacation cancellation request, which is routed to HR/Manager for review."]
    ],
    "Pre-Conditions": [
      "A valid vacation cancellation request has been submitted by an employee.",
      "The original vacation request must be in Pending or Approved status.",
      "Vacation must not have started (current date < start date).",
      "Reviewer (HR/Manager) has access to the system on web or mobile."
    ],
    "Basic Flow (Main Success Scenario)": {
      headers: ["#", "Reviewer Action", "System Response"],
      rows: [
        ["1", "Reviewer opens the vacation cancellation request from dashboard or notification.", "System displays both original vacation request details and cancellation request details in read-only mode."],
        ["2", "â€”", "System shows Employee Name, Employee ID, Department, Vacation Type, Start Date, End Date, Period, Notes, Attachments."],
        ["3", "â€”", "System shows Cancellation Request ID, Original Request ID, Cancellation Submitted Date/Time, and Cancellation Reason."],
        ["4", "Reviewer enters a mandatory reason in 'Reason for Accept/Reject' textarea.", "System validates that input is provided."],
        ["5", "Reviewer clicks 'Approve Cancellation'.", "System records approval, updates status, notifies HR and Manager, and links cancellation with the original request."],
        ["6", "Reviewer clicks 'Reject Cancellation'.", "System records rejection, updates status to 'Rejected', and notifies the employee immediately."]
      ]
    },
    "Business Validation Rules": {
      headers: ["Rule ID", "Description", "Condition", "Message ID"],
      rows: [
        ["BV-501", "Cancellation must occur before vacation start date.", "currentDate < vacationStartDate", "MSG-501"],
        ["BV-502", "Only Pending or Approved requests are eligible for cancellation.", "status âˆˆ {Pending, Approved}", "MSG-502"],
        ["BV-503", "Reviewer must provide a decision reason.", "reason != null && reason.trim() != ''", "MSG-503"]
      ]
    },
    "Exceptions (Error Conditions)": {
      headers: ["ID", "At Step", "Issue", "Resolution"],
      rows: [
        ["EX-1", "Step 1", "Reviewer attempts to review cancellation for a vacation already started.", "System blocks review and shows error MSG-501."],
        ["EX-2", "Step 1", "Original request status is not Pending or Approved.", "System blocks cancellation review and shows error MSG-502."],
        ["EX-3", "Step 4", "Reviewer attempts to approve/reject without providing a reason.", "System prevents action and displays error MSG-503."]
      ]
    },
    "Post-Conditions": [
      "Cancellation request status is updated to Approved or Rejected.",
      "If Approved: Vacation request is officially cancelled, HR and Manager are notified.",
      "If Rejected: Employee notified, original vacation request remains active.",
      "System maintains audit trail linking original and cancellation requests."
    ],
    "Notes": [
      ["Note", "All original and cancellation request details are read-only for reviewers."],
      ["Note", "Cancellation review is accessible from both web and mobile platforms."],
      ["Note", "System maintains data integrity by linking original requests with their cancellations."]
    ]
  }
}
,
{
  title: "Use Case: Pending Vacation Requests",
  description: "Managers and HR view and access all vacation requests awaiting review and approval. From this screen, they can navigate to detailed review and take necessary actions.",
  sections: {
    Summary: [
      ["ID", "UC-6"],
      ["Name", "Pending Vacation Requests"],
      ["Goal", "To view and manage all vacation requests currently awaiting review and approval."],
      ["Actors", "Manager, HR"]
    ],
    Triggers: [
      ["Trigger", "A manager or HR user selects the 'Pending Vacation Requests' option from the system menu/dashboard."]
    ],
    "Pre-Conditions": [
      "There are vacation requests in Pending status.",
      "Reviewer has valid access rights (Manager or HR).",
      "System is available and responsive."
    ],
    "Basic Flow (Main Success Scenario)": {
      headers: ["#", "Actor Action", "System Response"],
      rows: [
        ["1", "Reviewer opens the Pending Vacation Requests screen.", "System displays the header 'Pending Vacation Requests (Tasks)' and a grid layout of all pending requests requiring action."],
        ["2", "â€”", "System shows grid columns: Employee ID, Name, Department, Vacation Type, Start Date, End Date, Action."],
        ["3", "Reviewer locates a specific request in the list.", "System highlights the request row and shows a [View Request] button for action."],
        ["4", "Reviewer clicks [View Request].", "System opens the 'Review Leave Request Screen' with full request details."],
        ["5", "On the Review screen, reviewer decides: Accept or Reject.", "System validates input, records decision, updates status, and notifies the employee and stakeholders."]
      ]
    },
    "Business Validation Rules": {
      headers: ["Rule ID", "Description", "Condition", "Message ID"],
      rows: [
        ["BV-601", "Only pending requests appear on this screen.", "status == 'Pending'", "MSG-601"],
        ["BV-602", "Action column always provides [View Request] button.", "row âˆˆ PendingRequests", "MSG-602"]
      ]
    },
    "Exceptions (Error Conditions)": {
      headers: ["ID", "At Step", "Issue", "Resolution"],
      rows: [
        ["EX-1", "Step 1", "No pending requests exist.", "System displays message MSG-601 and disables grid."],
        ["EX-2", "Step 4", "Request no longer pending when opened.", "System blocks action and shows error MSG-601."]
      ]
    },
    "Post-Conditions": [
      "Reviewer can navigate to detailed review for any pending request.",
      "Decisions made in Review screen trigger notifications and workflow updates.",
      "Vacation balance updates after GM final approval."
    ],
    "Notes": [
      ["Note", "This screen is for query and navigation only; decisions are made in the Review screen."],
      ["Note", "Auto-escalation applies: requests not acted upon within 2 days escalate to the next level."],
      ["Note", "Vacation Reporting Dashboard aggregates pending requests per department for analysis."]
    ]
  }
}
,
{
  title: "Use Case: Vacation Inquiry (Search Parameters)",
  description: "Users enter search criteria to perform vacation inquiries. This screen acts as the first part of the inquiry process, leading to a separate Search Results screen.",
  sections: {
    Summary: [
      ["ID", "UC-7"],
      ["Name", "Vacation Inquiry (Search Parameters)"],
      ["Goal", "To allow users to input search criteria for vacation inquiries."],
      ["Actors", "HR, Managers, Authorized Employees"]
    ],
    Triggers: [
      ["Trigger", "A user navigates to 'Employee Vacation Inquiry - Search Parameters' screen."]
    ],
    "Pre-Conditions": [
      "User has valid system access.",
      "Department Master, Employee Master, and Vacation Type data are available.",
      "System is available and responsive."
    ],
    "Basic Flow (Main Success Scenario)": {
      headers: ["#", "Actor Action", "System Response"],
      rows: [
        ["1", "User opens the 'Employee Vacation Inquiry - Search Parameters' screen.", "System displays screen header and all search filters in default (empty) state."],
        ["2", "User optionally selects From Date and To Date.", "System accepts input and validates proper date formatting."],
        ["3", "User optionally selects one or more Departments from dropdown.", "System loads Department options from Department Master and accepts multi-selection."],
        ["4", "User optionally enters Employee Name or ID in text field.", "System cross-references Employee Master data for validation."],
        ["5", "User optionally selects one or more Vacation Types.", "System loads options (Annual, Sick, All) from Vacation Type master data."],
        ["6", "User optionally selects one or more Vacation Statuses.", "System loads options (Pending, Approved, Rejected, Cancelled, All) from system status list."],
        ["7", "User clicks [Generate Report].", "System validates entered filters and navigates to the 'Search Results' screen showing matching vacation requests."],
        ["8", "User clicks [Reset].", "System clears all filters and reloads the screen in default state."]
      ]
    },
    "Business Validation Rules": {
      headers: ["Rule ID", "Description", "Condition", "Message ID"],
      rows: [
        ["BV-701", "From Date and To Date must be valid dates.", "Invalid date format or impossible date entered", "MSG-701"],
        ["BV-702", "From Date must not be after To Date.", "fromDate > toDate", "MSG-702"],
        ["BV-703", "Department dropdown options must come from Department Master.", "Invalid department selected", "MSG-703"]
      ]
    },
    "Exceptions (Error Conditions)": {
      headers: ["ID", "At Step", "Issue", "Resolution"],
      rows: [
        ["EX-1", "Step 2", "Invalid date format entered.", "System rejects input and shows error MSG-701."],
        ["EX-2", "Step 2", "From Date is after To Date.", "System blocks report generation and shows error MSG-702."],
        ["EX-3", "Step 3", "Department not found in master data.", "System shows error MSG-703 and prevents submission."]
      ]
    },
    "Post-Conditions": [
      "System either displays vacation search results based on valid filters or shows appropriate validation errors.",
      "User may reset and re-enter search filters."
    ],
    "Notes": [
      ["Note", "All search parameters are optional â€” user can generate a report with no filters applied."],
      ["Note", "The 'Search Results' screen is a separate use case (UC-8)."],
      ["Note", "Consistent styling with other inquiry/approval screens must be maintained."]
    ]
  }
}
,
{
  title: "Use Case: Vacation Inquiry (Search Results)",
  description: "Displays a summarized list of vacation requests matching the search criteria entered in UC-7 (Search Parameters). Provides options for printing approved transactions, exporting data, and initiating a new search.",
  sections: {
    Summary: [
      ["ID", "UC-8"],
      ["Name", "Vacation Inquiry (Search Results)"],
      ["Goal", "To display inquiry results in a grid format and allow printing/export actions."],
      ["Actors", "HR, Managers, Authorized Employees"]
    ],
    Triggers: [
      ["Trigger", "User executes a search from the 'Employee Vacation Inquiry - Search Parameters' screen (UC-7)."]
    ],
    "Pre-Conditions": [
      "User has valid system access.",
      "Valid search criteria executed from UC-7.",
      "System has matching vacation request data."
    ],
    "Basic Flow (Main Success Scenario)": {
      headers: ["#", "Actor Action", "System Response"],
      rows: [
        ["1", "User completes a search in UC-7.", "System displays the 'Vacation Inquiry - Search Results' grid with matching requests."],
        ["2", "User reviews grid with columns (Employee ID, Employee Name, Vacation Type, Start Date, End Date, Duration, Status, Actions).", "System ensures all values are loaded from Employee Master, Department Master, Vacation Type master, and request data."],
        ["3", "User clicks [Print] button on an approved request row.", "System generates a PDF of the 'Single Transaction Report' including Request Date, Employee details, Vacation details, Reviewer details, Approval Date/Time, and footer (Print Time, Page Number, Printed By)."],
        ["4", "User clicks [Export to Excel] button.", "System exports the current search result set to Excel file format."],
        ["5", "User navigates through pagination controls ([Previous], page numbers, [Next], Records per page).", "System loads appropriate page of results."],
        ["6", "User clicks [New Search] button.", "System returns user to UC-7 (Search Parameters) screen."]
      ]
    },
    "Business Validation Rules": {
      headers: ["Rule ID", "Description", "Condition", "Message ID"],
      rows: [
        ["BV-801", "Print option allowed only for Approved requests.", "Status != Approved", "MSG-801"],
        ["BV-802", "Pagination controls must be consistent and not exceed total record count.", "Invalid page number or out of range", "MSG-802"]
      ]
    },
    "Exceptions (Error Conditions)": {
      headers: ["ID", "At Step", "Issue", "Resolution"],
      rows: [
        ["EX-1", "Step 3", "User clicks [Print] on a non-approved request.", "System blocks action and shows MSG-801."],
        ["EX-2", "Step 5", "User attempts to navigate to an invalid page.", "System displays MSG-802 and retains current page view."]
      ]
    },
    "Post-Conditions": [
      "System displays inquiry results in a structured grid.",
      "User may print single transaction reports for approved requests.",
      "User may export results to Excel.",
      "User may navigate pages or initiate a new search."
    ],
    "Notes": [
      ["Note", "The grid layout follows consistent styling with UC-6 Pending Requests screen."],
      ["Note", "The Single Transaction Report layout (Screen 7) includes all mandatory footer elements."],
      ["Note", "Export to Excel is intended for bulk reporting, while Print is for individual approved transactions."]
    ]
  }
}
,
{
  title: "Use Case: Print Single Vacation Transaction Report (PDF)",
  description: "Generates a detailed PDF for an individual vacation request. Acts as an official, printable record of a single approved vacation transaction.",
  sections: {
    Summary: [
      ["ID", "UC-9"],
      ["Name", "Print Single Vacation Transaction Report (PDF)"],
      ["Goal", "To generate a PDF with complete details of an approved vacation request."],
      ["Actors", "HR, Managers, Authorized Employees"]
    ],
    Triggers: [
      ["Trigger", "User clicks the [Print] button from UC-8 (Vacation Inquiry â€“ Search Results) on an Approved request."]
    ],
    "Pre-Conditions": [
      "User has valid system access.",
      "Vacation request status must be Approved.",
      "All request data and approval logs are available in the system."
    ],
    "Basic Flow (Main Success Scenario)": {
      headers: ["#", "Actor Action", "System Response"],
      rows: [
        ["1", "User clicks the [Print] button in UC-8 for an approved request.", "System validates request status (must be Approved)."],
        ["2", "User waits while PDF is generated.", "System fetches request, employee, vacation, and approval details."],
        ["3", "System generates PDF including Request Information, Employee Information, Vacation Details, Approval Information, and Standard Footer.", "System ensures all mandatory fields are populated."],
        ["4", "PDF is displayed or downloaded.", "System ensures correct footer elements (Print Time, Page Number, Printed By) are included on each page."]
      ]
    },
    "Business Validation Rules": {
      headers: ["Rule ID", "Description", "Condition", "Message ID"],
      rows: [
        ["BV-901", "Report can only be generated for Approved vacation requests.", "If status != Approved", "MSG-801"],
        ["BV-902", "All footer elements must be included in every page of the PDF.", "Missing footer info", "MSG-902"]
      ]
    },
    "Exceptions (Error Conditions)": {
      headers: ["ID", "At Step", "Issue", "Resolution"],
      rows: [
        ["EX-1", "Step 1", "User clicks Print on non-approved request.", "System blocks action and shows MSG-801."],
        ["EX-2", "Step 3", "PDF generation error due to missing mandatory data.", "System shows MSG-902."]
      ]
    },
    "Post-Conditions": [
      "System generates a single vacation transaction PDF.",
      "PDF includes Request Info, Employee Info, Vacation Details, Approval Info, and Footer.",
      "PDF is available for download or direct print."
    ],
    "Notes": [
      ["Note", "The PDF layout corresponds to 'Print Layout - Single Transaction Report' as referenced in UC-8."],
      ["Note", "Attachments are included as file links when available; mandatory for Sick leave requests."],
      ["Note", "Approval section must display all approvers with job titles and approval timestamps."]
    ]
  }
}
,
{
  title: "Use Case: Print Comparative Annual Report (PDF)",
  description: "Generates an annual comparative PDF grouped by department, with an optional flag to include employee-level details.",
  sections: {
    Summary: [
      ["ID", "UC-10"],
      ["Name", "Print Comparative Annual Report (PDF)"],
      ["Goal", "To generate an annual comparative vacation report by department, optionally including employee details."],
      ["Actors", "HR, Managers, General Management"]
    ],
    Triggers: [
      ["Trigger", "User defines filters (Department, Start Date, End Date, Details flag) and clicks [Print Comparative Report] button."]
    ],
    "Pre-Conditions": [
      "User has valid access rights to reporting functionality.",
      "Department and employee vacation data must exist in the system."
    ],
    "Basic Flow (Main Success Scenario)": {
      headers: ["#", "Actor Action", "System Response"],
      rows: [
        ["1", "User opens the Comparative Annual Report screen (print layout).", "System displays report filters: Department(s), Date Range, Details flag."],
        ["2", "User selects Department(s) and optional filters (Start Date, End Date, Details flag).", "System accepts entered filter inputs (no validation required for Start vs End date)."],
        ["3", "User clicks [Print Comparative Report].", "System retrieves aggregated data grouped by Department."],
        ["4", "System generates a PDF including Department Name, Total Annual Vacation Days, Remaining Balance.", "If Details flag = true, employee names are listed under each Department."],
        ["5", "System appends standard footer info on each page (Print Time, Page Number, Printed By).", "System outputs PDF for user to download/print."]
      ]
    },
    "Business Validation Rules": {
      headers: ["Rule ID", "Description", "Condition", "Message ID"],
      rows: [
        ["BV-1002", "At least one Department must be selected or 'All Departments' chosen.", "If Department field is empty", "MSG-1002"],
        ["BV-1003", "Footer elements must appear on every page of the PDF.", "If footer missing", "MSG-902"]
      ]
    },
    "Exceptions (Error Conditions)": {
      headers: ["ID", "At Step", "Issue", "Resolution"],
      rows: [
        ["EX-1", "Step 2", "No Department selected.", "System blocks action and shows MSG-1002."],
        ["EX-2", "Step 4", "Report generation fails due to missing/invalid data.", "System shows MSG-902."]
      ]
    },
    "Post-Conditions": [
      "System generates the Comparative Annual Report PDF.",
      "Report contains department totals and balances, with optional employee details.",
      "Standard footer is included on all pages."
    ],
    "Notes": [
      ["Note", "The report period is derived from the entered Start Date and End Date; typically the calendar year."],
      ["Note", "If Start Date is after End Date, the system does not raise a validation error; it simply returns an empty result set."],
      ["Note", "Employee details appear only when the 'Details flag' is checked by the user."],
      ["Note", "The data dictionary for this report defines fields Department, Total Days, Balance, Employee Name (optional), Period, and Footer Info."]
    ]
  }
}
,
{
  title: "Use Case: Notifications Center",
  description: "Displays system notifications and updates related to vacation requests and actions, with interactive options for quick navigation.",
  sections: {
    Summary: [
      ["ID", "UC-11"],
      ["Name", "Notifications Center"],
      ["Goal", "To inform users of vacation-related events and provide quick access to related details or actions."],
      ["Actors", "Employees, Managers, HR, General Management"]
    ],
    Triggers: [
      ["Trigger", "Vacation-related events occur in the system (e.g., request submission, approval, rejection, pending review, comments, attachment requirements)."]
    ],
    "Pre-Conditions": [
      "User has valid system access.",
      "Relevant vacation transactions or actions exist in the system."
    ],
    "Basic Flow (Main Success Scenario)": {
      headers: ["#", "Actor Action", "System Response"],
      rows: [
        ["1", "User navigates to the Notifications Center screen.", "System displays a chronological list of notifications, newest first."],
        ["2", "User reviews Notification Text (Action Type, Vacation Details, Employee Name, Context).", "System shows card-style notifications with clear hierarchy."],
        ["3", "User clicks [View] button on a notification.", "System opens the detailed view of the related vacation request."],
        ["4", "User clicks the [Context Button] on a notification.", "System navigates the user to the relevant section (e.g., 'My Requests' or 'Pending Tasks')."],
        ["5", "User takes no action.", "System continues to display notifications until they are marked as read or expire based on rules."]
      ]
    },
    "Notification Types": {
      headers: ["Type", "Example Text"],
      rows: [
        ["Approval", "Annual Leave (20â€“25 Aug, 6 days) for Omar Abdelrahman was approved."],
        ["Rejection", "Sick Leave (12â€“14 Sep, 3 days) for Omar Abdelrahman was rejected. Reason: No medical note."],
        ["Pending Approval", "Annual Leave (18â€“20 Sep, 3 days) for Omar Abdelrahman is pending manager approval."],
        ["Review Notes", "Reviewer Ahmed Mostafa left a note on Casual Leave (02â€“03 Oct): 'Please adjust dates.'"],
        ["Attachment Review", "Sick Leave (05â€“06 Oct, 2 days) for Omar Abdelrahman needs attachment review."],
        ["General Updates", "General notification to stakeholders when requests are submitted, approved, rejected, or cancelled."]
      ]
    },
    "Business Rules": {
      headers: ["Rule ID", "Description"],
      rows: [
        ["BR-1101", "System displays notifications relevant to the logged-in user's role (Employee, Manager, HR, etc.)."],
        ["BR-1102", "Notifications appear in reverse chronological order, newest first."],
        ["BR-1103", "Employees must receive notifications upon request acceptance or rejection."],
        ["BR-1104", "Approved vacation cancellations trigger notifications for both HR and the Manager."],
        ["BR-1105", "When HR and Managers are notified, only the header with a link is shown; full request details are visible after clicking the link."],
        ["BR-1106", "Each notification must contain text and at least one actionable button ([View] or Context)."]
      ]
    },
    "Exceptions (Error Conditions)": {
      headers: ["ID", "At Step", "Issue", "Resolution"],
      rows: [
        ["EX-1", "Step 1", "No notifications available.", "System displays an empty state message: MSG-1101."],
        ["EX-2", "Step 3", "User clicks [View] but underlying request has been deleted or is inaccessible.", "System shows message: MSG-1102."]
      ]
    },
    "Post-Conditions": [
      "User is informed about vacation-related actions through notifications.",
      "User can access related screens (detailed request or task list) directly from notifications.",
      "Notifications remain available until acknowledged, expired, or cleared by system rules."
    ],
    "Notes": [
      ["Note", "Notification cards follow a clean layout with clear text hierarchy and action buttons."],
      ["Note", "System ensures contextual navigation via [View] or [Context] buttons."],
      ["Note", "Notification messages are dynamically generated from request and system log data."]
    ]
  }
}
,
{
  title: "Use Case: Automated Update of Employee Annual Vacation Balance",
  description: "The system automatically manages and updates employee vacation balances based on entitlement rules, approved requests, and organizational policies. Manual overrides are not permitted.",
  sections: {
    Summary: [
      ["ID", "UC-12"],
      ["Name", "Automated Update of Employee Annual Vacation Balance"],
      ["Goal", "To ensure employee vacation balances are automatically calculated, updated, and compliant with policies, without manual overrides."],
      ["Actors", "System (primary), Employee (view-only), General Manager (approval trigger)"]
    ],
    Triggers: [
      ["Trigger-1", "General Manager approves a vacation request."],
      ["Trigger-2", "Annual allocation is applied (21 or 30 days entitlement based on policy)."],
      ["Trigger-3", "Employee eligibility changes (10+ years of service or age â‰¥ 50)."]
    ],
    "Pre-Conditions": [
      "Employee is an eligible full-time Muslim Saudi employee (trainees are excluded).",
      "Vacation Types Master Data defines annual entitlement (21 or 30 days).",
      "Employee Master Data includes Hire Date and Birth Date (for entitlement eligibility).",
      "Vacation request has passed the multi-level approval workflow up to General Manager."
    ],
    "Basic Flow (Main Success Scenario)": {
      headers: ["#", "Actor Action", "System Response"],
      rows: [
        ["1", "General Manager approves an employeeâ€™s vacation request.", "System immediately recalculates the employeeâ€™s vacation balance (Total â€“ Taken â€“ Pending = Balance)."],
        ["2", "System applies entitlement rules (21 or 30 days depending on service/age).", "Balance is updated accordingly in Employee Master Data."],
        ["3", "Employee views their vacation balance and history in view-only mode.", "System displays updated balance and vacation access history report."],
        ["4", "At the start of a new calendar year.", "System assigns annual entitlement (21 or 30 days), without carrying forward unused days."]
      ]
    },
    "Business Rules": {
      headers: ["Rule ID", "Description"],
      rows: [
        ["BR-1201", "Leave Balance = Total â€“ Taken â€“ Pending."],
        ["BR-1202", "Vacation balance updates immediately after General Manager approval."],
        ["BR-1203", "Annual entitlement is 21 days; increased to 30 days if service â‰¥ 10 years or age â‰¥ 50."],
        ["BR-1204", "Unused days are forfeited at year-end (no carryover or compensation)."],
        ["BR-1205", "Vacation Types supported: Annual and Sick only."],
        ["BR-1206", "No overlapping requests are allowed for the same employee."],
        ["BR-1207", "Trainees are not eligible to submit vacation requests."],
        ["BR-1208", "Manual overrides of balance are not allowed (system-only updates)."],
        ["BR-1209", "Vacation policies must be configurable for maintainability."],
        ["BR-1210", "System complies with Saudi vacation regulations only (Muslim Saudi, full-time employees)."]
      ]
    },
    "Exceptions (Error Conditions)": {
      headers: ["ID", "At Step", "Issue", "Resolution"],
      rows: [
        ["EX-1", "Step 1", "Balance calculation fails due to missing Employee Master Data fields.", "System logs error and displays message: MSG-1201."],
        ["EX-2", "Step 2", "Employee is ineligible (trainee or outside Saudi regulation scope).", "System blocks request and shows message: MSG-1202."],
        ["EX-3", "Step 3", "User attempts to manually override balance.", "System prevents override and enforces automation rule."]
      ]
    },
    "Post-Conditions": [
      "Vacation balances are always up-to-date and auto-calculated.",
      "Employees can view, but not edit, their vacation balances and history.",
      "System enforces organizational vacation policies automatically."
    ],
    "Notes": [
      ["Note", "System recalculates vacation balances immediately after GM approval."],
      ["Note", "Hire Date and Birth Date from Employee Master Data are used for entitlement eligibility (21 or 30 days)."],
      ["Note", "Employees can view their vacation balance history but cannot make changes."],
      ["Note", "Vacation process automation ensures compliance and eliminates manual errors."]
    ]
  }
}
]
